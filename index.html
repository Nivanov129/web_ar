<!DOCTYPE html>
<html>
<head>
  <title>AR показ по QR-коду</title>
</head>
<body>
  <h1>AR показ по QR-коду</h1>
  
  <canvas id="arCanvas"></canvas>
  
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
  
  <script>
    AFRAME.registerComponent('qr-code', {
      schema: {
        src: { type: 'string' }
      },
      init: function () {
        var marker = document.createElement('a-marker');
        marker.setAttribute('type', 'pattern');
        marker.setAttribute('url', this.data.src);
        this.el.appendChild(marker);
        
        var image = document.createElement('a-image');
        image.setAttribute('src', 'assets/img1.webp');
        image.setAttribute('scale', '0.5 0.5 0.5');
        marker.appendChild(image);
      }
    });
  </script>
  
  <a-scene embedded arjs>
    <a-entity qr-code="src: assets/pattern-qrcode-2.patt"></a-entity>
    <a-entity camera></a-entity>
  </a-scene>
</body>
</html>
